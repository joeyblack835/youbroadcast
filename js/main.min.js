function countdown(){seconds<=0?(clearInterval(countdownInterval),countdownInterval=null,clearTimeout(pingTimeout),playbackTry(!1)):(seconds--,document.getElementById("count").innerHTML=secToTime(seconds))}function secToTime(a){return m=parseInt(a/60),s=parseInt(a%60),s<10&&(s="0"+s),m+":"+s}function playbackShow(){if(4==this.readyState){if(200==this.status&&this.responseText.length>0){if(xmlDoc=parseXML(this.responseText),!1===xmlParseError&&playbackIsValidXmlDoc(xmlDoc)){var a=xmlDoc.getElementsByTagName("current")[0];if("OK"==_getTextContent(a.getElementsByTagName("status")[0])){var b=_getTextContent(a.getElementsByTagName("videoid")[0]);if(!_isPing||!player||player.getVideoData().video_id!=b){var c=_getTextContent(a.getElementsByTagName("end")[0]);c="0"!=c?"&end="+c:"",player?player.loadVideoById({videoId:b,startSeconds:_getTextContent(a.getElementsByTagName("start")[0]),endSeconds:c}):player=new YT.Player("player",{width:480,height:360,videoId:b,playerVars:{autoplay:1,start:_getTextContent(a.getElementsByTagName("start")[0]),endSeconds:c}})}document.getElementById("title").innerHTML=_getTextContent(a.getElementsByTagName("title")[0])}else document.getElementById("title").innerHTML="";var d=_getTextContent(a.getElementsByTagName("refresh")[0]);(!countdownInterval||Math.abs(d-seconds)>5)&&(clearInterval(countdownInterval),seconds=d,document.getElementById("count").innerHTML=secToTime(seconds),countdownInterval=setInterval(countdown,1e3));var e=xmlDoc.getElementsByTagName("next")[0];"OK"==_getTextContent(e.getElementsByTagName("status")[0])?document.getElementById("next").innerHTML='<img src="'+_getTextContent(e.getElementsByTagName("thumb")[0])+'" alt="" />'+_getTextContent(e.getElementsByTagName("title")[0]):document.getElementById("next").innerHTML=""}}else countdownInterval||(seconds=5,document.getElementById("count").innerHTML=secToTime(seconds),countdownInterval=setInterval(countdown,1e3));pingTimeout=setTimeout(function(){playbackTry(!0)},3e4),_lockPlaybackTry=!1}}function playbackTry(a){_lockPlaybackTry||(!a||seconds>5)&&(_lockPlaybackTry=!0,_isPing=a,loadXMLDoc(baseUrl+"get_tracks.php?channel_id="+channelId+"&amp;"+Math.random(),playbackShow))}function playbackIsValidXmlDoc(a){return!0}var seconds=0,countdownInterval,pingTimeout,_lockPlaybackTry=!1,_isPing=!1,player;