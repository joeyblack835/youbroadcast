function countdown(){seconds<=0?(clearInterval(countdownInterval),setTimeout("playbackTry()",1e3)):(seconds--,document.getElementById("count").innerHTML=secToTime(seconds))}function secToTime(a){return m=parseInt(a/60),s=parseInt(a%60),s<10&&(s="0"+s),""+m+":"+s}function playbackShow(){if(4==req.playback.readyState)if(clearTimeout(reqTimeout.playback),200==req.playback.status&&req.playback.responseText.length>0){if(xmlDoc=parseXML(req.playback.responseText),xmlParseError===!1&&playbackIsValidXmlDoc(xmlDoc)){var a=xmlDoc.getElementsByTagName("current")[0];if("OK"==_getTextContent(a.getElementsByTagName("status")[0])){var b=_getTextContent(a.getElementsByTagName("end")[0]);b="0"!=b?"&end="+b:"",player.loadVideoById({videoId:_getTextContent(a.getElementsByTagName("videoid")[0]),startSeconds:_getTextContent(a.getElementsByTagName("start")[0]),endSeconds:b}),document.getElementById("title").innerHTML=_getTextContent(a.getElementsByTagName("title")[0])}else document.getElementById("title").innerHTML="";seconds=_getTextContent(a.getElementsByTagName("refresh")[0]),document.getElementById("count").innerHTML=secToTime(seconds),countdownInterval=setInterval(countdown,1e3);var c=xmlDoc.getElementsByTagName("next")[0];"OK"==_getTextContent(c.getElementsByTagName("status")[0])?document.getElementById("next").innerHTML='<img src="'+_getTextContent(c.getElementsByTagName("thumb")[0])+'" alt="" />'+_getTextContent(c.getElementsByTagName("title")[0]):document.getElementById("next").innerHTML=""}}else seconds=5,document.getElementById("count").innerHTML=secToTime(seconds),countdownInterval=setInterval(countdown,1e3)}function playbackTry(){document.getElementById("title").innerHTML="",document.getElementById("next").innerHTML="",loadXMLDoc(baseUrl+"get_tracks.php?channel_id="+channelId+"&amp;"+Math.random(),playbackShow,"playback")}function playbackIsValidXmlDoc(a){return!0}var seconds=0,xmlParseError=!1,countdownInterval;